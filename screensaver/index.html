<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Art Screensaver</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            overflow: hidden;
        }

        #pixelCanvas {
            display: block;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
    </style>
</head>
<body>
    <canvas id="pixelCanvas"></canvas>

    <script>
        // Canvas setup
        const canvas = document.getElementById('pixelCanvas');
        const ctx = canvas.getContext('2d');
        
        // Pixel grid configuration
        const PIXEL_SIZE = 8; // Size of each "pixel" in actual pixels
        let GRID_WIDTH = 80; // Number of pixels wide
        let GRID_HEIGHT = 60; // Number of pixels tall
        
        // Color palette for variety
        const colorPalette = [
            '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',
            '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B195', '#C06C84',
            '#6C5B7B', '#355C7D', '#F67280', '#C94C4C', '#00BCD4',
            '#4CAF50', '#FF9800', '#E91E63', '#9C27B0', '#3F51B5',
            '#2196F3', '#03A9F4', '#009688', '#8BC34A', '#CDDC39',
            '#FFEB3B', '#FFC107', '#FF5722', '#795548', '#607D8B'
        ];
        
        // Store pixel colors
        let pixels = [];
        
        // Get random color from palette
        function getRandomColor() {
            return colorPalette[Math.floor(Math.random() * colorPalette.length)];
        }
        
        // Initialize pixels with random colors
        function initializePixels() {
            pixels = [];
            for (let y = 0; y < GRID_HEIGHT; y++) {
                pixels[y] = [];
                for (let x = 0; x < GRID_WIDTH; x++) {
                    pixels[y][x] = getRandomColor();
                }
            }
        }
        
        // Draw all pixels on canvas
        function drawPixels() {
            for (let y = 0; y < GRID_HEIGHT; y++) {
                for (let x = 0; x < GRID_WIDTH; x++) {
                    ctx.fillStyle = pixels[y][x];
                    ctx.fillRect(
                        x * PIXEL_SIZE,
                        y * PIXEL_SIZE,
                        PIXEL_SIZE,
                        PIXEL_SIZE
                    );
                }
            }
        }
        
        // Function to resize canvas to fullscreen
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            GRID_WIDTH = Math.floor(canvas.width / PIXEL_SIZE);
            GRID_HEIGHT = Math.floor(canvas.height / PIXEL_SIZE);
            initializePixels();
            drawPixels();
        }
        
        // Initialize on load and on resize
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // Change all pixel colors
        function changeAllPixels() {
            for (let y = 0; y < GRID_HEIGHT; y++) {
                for (let x = 0; x < GRID_WIDTH; x++) {
                    pixels[y][x] = getRandomColor();
                }
            }
            drawPixels();
        }
        
        // Function to draw text as pixels
        function drawPixelText(text, centerX, centerY, scale = 1) {
            ctx.save();
            
            // Use a small font and get pixel data
            const fontSize = 16 * scale;
            ctx.font = `bold ${fontSize}px monospace`;
            
            // Measure text
            const metrics = ctx.measureText(text);
            const textWidth = metrics.width;
            const textHeight = fontSize;
            
            // Create temporary canvas to render text
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = textWidth + 10;
            tempCanvas.height = textHeight + 10;
            
            // Draw text on temp canvas
            tempCtx.font = ctx.font;
            tempCtx.fillStyle = '#ffffff';
            tempCtx.textBaseline = 'top';
            tempCtx.fillText(text, 5, 5);
            
            // Get pixel data
            const imageData = tempCtx.getImageData(0, 0, tempCanvas.width, tempCanvas.height);
            const data = imageData.data;
            
            // Draw pixels where text exists
            const startX = Math.floor(centerX - tempCanvas.width / 2);
            const startY = Math.floor(centerY - tempCanvas.height / 2);
            
            for (let y = 0; y < tempCanvas.height; y++) {
                for (let x = 0; x < tempCanvas.width; x++) {
                    const i = (y * tempCanvas.width + x) * 4;
                    const alpha = data[i + 3];
                    
                    if (alpha > 128) { // If pixel is visible
                        const pixelX = startX + x;
                        const pixelY = startY + y;
                        
                        if (pixelX >= 0 && pixelX < canvas.width && pixelY >= 0 && pixelY < canvas.height) {
                            ctx.fillStyle = '#ffffff';
                            ctx.fillRect(pixelX, pixelY, 1, 1);
                        }
                    }
                }
            }
            
            ctx.restore();
        }
        
        // Function to format time and date
        function getTimeString() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            return `${hours}:${minutes}:${seconds}`;
        }
        
        function getDateString() {
            const now = new Date();
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                          'July', 'August', 'September', 'October', 'November', 'December'];
            
            const dayName = days[now.getDay()];
            const monthName = months[now.getMonth()];
            const date = now.getDate();
            const year = now.getFullYear();
            
            return `${dayName}, ${monthName} ${date}, ${year}`;
        }
        
        // Rotation state
        let rotation = 0;
        let lastRotationTime = Date.now();
        const ROTATION_INTERVAL = 5000; // Rotate every 5 seconds
        
        // Update function to draw pixels and time/date
        function update() {
            // Change pixel colors
            changeAllPixels();
            
            // Check if we should rotate
            const currentTime = Date.now();
            if (currentTime - lastRotationTime >= ROTATION_INTERVAL) {
                rotation = (rotation + 90) % 360;
                lastRotationTime = currentTime;
            }
            
            // Draw time and date with rotation
            ctx.save();
            ctx.translate(canvas.width / 2, canvas.height / 2);
            ctx.rotate((rotation * Math.PI) / 180);
            
            const timeText = getTimeString();
            const dateText = getDateString();
            
            drawPixelText(timeText, 0, -30, 2);
            drawPixelText(dateText, 0, 30, 1.2);
            
            ctx.restore();
        }
        
        // Initialize and start
        // Note: initialization happens in resizeCanvas()
        
        // Update every second
        setInterval(update, 1000);
        update(); // Initial call
    </script>
</body>
</html>
